### 操作符

包括算术操作符（加号、减号），位操作符、关系操作符、相等操作符

#### 一元操作符
一次只能操作一个值的操作符叫做一元操作符
> 递增和递减操作符

- `前置` `递增`操作符：在要操作的`变量之前`，且为`加法操作`；变量的值是在`求值之前改变的`
```javascript
    var age = 25;
    'The age after one year is ' + ++age; // 'The age after one year is 26'，先计算++age，然后再进行字符串拼接
    console.log(age); // 26
```

- `后置` `递增`操作符：在要操作的`变量之后`，且为`加法操作`；变量的值是在`求值之后改变的`
```javascript
    var age = 25;
    'The age after one year is ' + age++; // 'The age after one year is 25'，先进行字符串拼接，然后再计算++age
    console.log(age); // 26
```

- `前置` `递减`操作符：在要操作的`变量之前`，且为`减法操作`；变量的值是在`求值之前改变的`
```javascript
    var age = 25;
    'Last year, the age was ' + --age; // 'Last year, the age was 24'，先计算--age，然后再进行字符串拼接
    console.log(age); // 24
```

- `后置` `递减`操作符：在要操作的`变量之后`，且为`减法操作`；变量的值是在`求值之后改变的`
```javascript
    var age = 25;
    'Last year, the age was ' + age--; // 'Last year, the age was 25'，先进行字符串拼接，然后再计算age--
    console.log(age); // 24
```
- 递增和递减操作符可以作用于任何类型的数据，操作的步骤：***先执行Number()方法转换为Number类型的数据***，***然后再进行相应的递增或递减操作***
```javascript
    // 以前置递增为例子
    var a = undefined;
    var b = null;
    var c = 1;
    var d = '12.3';
    var e = '12.3.4';
    var f = {};
    var g = {valueOf: () => 123};
    var h = [123];
    var i = [123, 456];

    ++a; // NaN，Number(undefined)转换为NaN，涉及NaN的操作都返回NaN
    ++b; // 1，Number(null)转换为0，++0 -> 1
    ++c; // 2，Number(1)转换为1，++1 -> 2
    ++d; // 13.3，Number('12.3')转换为12.3，++12.3 -> 13.3
    ++e; // NaN，Number('12.3.4')转换为NaN，涉及NaN的操作都返回NaN
    ++f; // NaN，Number({})转换为NaN，涉及NaN的操作都返回NaN
    ++g; // 124，Number({valueOf: () => 123})转换为123，++123 -> 124
    ++h; // 124，Number([123])转换为123，++123 -> 124
    ++i; // NaN，Number([123, 456])转换为NaN，涉及NaN的操作都返回NaN
```

> 一元加和减操作符
- 和数学课本上的加、减性质是一致的
- 用在非Number类型的数据上时，***先执行Number()方法转换为Number类型的数据***，***然后再进行相应的加、减操作***
```javascript
    var a = undefined;
    var b = null;
    var c = 1;
    var d = '12.3';
    var e = '12.3.4';
    var f = {};
    var g = {valueOf: () => 123};
    var h = [123];
    var i = [123, 456];

    +a; // NaN，Number(undefined)转换为NaN，涉及NaN的操作都返回NaN
    +b; // 0，Number(null)转换为0，+0 -> 0
    +c; // 1，Number(1)转换为1，+1 -> 1
    +d; // 12.3，Number('12.3')转换为12.3，+12.3 -> 12.3
    +e; // NaN，Number('12.3.4')转换为NaN，涉及NaN的操作都返回NaN
    +f; // NaN，Number({})转换为NaN，涉及NaN的操作都返回NaN
    +g; // 123，Number({valueOf: () => 123})转换为123，+123 -> 123
    +h; // 123，Number([123])转换为123，+123 -> 123
    +i; // NaN，Number([123, 456])转换为NaN，涉及NaN的操作都返回NaN
```

<br>

#### 布尔操作符

布尔操作符包含：非(NOT)、与(AND)、或(OR)
> 非(NOT)
- 符号为一个叹号 ( ! )，对其变量的值求反；如果变量的数据类型不是Boolean值，则先通过Boolean()方法转化为Boolean值，然后再进行求反
- !!，相当于Boolean()方法：首先对变量求反，返回一个Boolean值，然后再对该Boolean值求反，反反得正
```javascript
    !undefined; // true
    !null; // true
    !true; // false
    !0; // true
    !1; // false
    !NaN; // true
    !''; // true
    !'a'; // false
    !{}; // false

    // !!
    !! undefined; // false，第一个 ! 求反为true，第二个 ! 再求反为false
```

> 与(AND)
- 符号为两个和号(&&)

`逻辑与的真值表`

第一个操作数|第二个操作数|结果
:-:|:-:|:-:
true|true|true
true|false|false
false|true|false
false|false|false

- 逻辑与操作符可以应用于任何类型的操作数
    - 如果第一个操作数可以决定返回的结果，那么就返回第一个操作数，而不会对第二个操作数进行求值；即，第一个操作数的Boolean值为false时，直接返回第一个操作数，无需对第二个操作数进行求值
    - 否则返回第二个操作数

```javascript
    true && true; // true
    true && false; // false
    false && true; // false
    false && false; // false

    1 && 2; // 2
    1 && 0; // 0
    0 && 1; // 0
    0 && NaN; // 0
```

> 或(OR)
- 符号为两个竖线符号(||)

`逻辑或的真值表`

第一个操作数|第二个操作数|结果
:-:|:-:|:-:
true|true|true
true|false|true
false|true|true
false|false|false

- 逻辑或操作符可以应用于任何类型的操作数
    - 如果第一个操作数可以决定返回的结果，那么就返回第一个操作数，而不会对第二个操作数进行求值；即，第一个操作数的Boolean值为true时，直接返回第一个操作数，无需对第二个操作数进行求值
    - 否则返回第二个操作数

```javascript
    true || true; // true
    true || false; // true
    false || true; // true
    false || false; // false

    1 || 2; // 1
    1 || 0; // 1
    0 || 1; // 1
    0 || NaN; // NaN
```

<br>

#### 乘性操作符

如果乘性计算的操作数不是Number类型的数据，则先使用Number()方法进行转换，然后在进行乘性操作

> 乘法
- 符号为一个星号(*)，用于计算两个操作数的乘法
    - 如果有一个操作数是NaN，则返回NaN
    - 如果是Infinity与0相乘，则返回NaN
    - 如果是Infinity与非零数值相乘 (包含Infinity 和 -Infinity)，则根据非零数值的正负号，选择返回Infinity 或 -Infinity

```javascript
    2 * 4; // 8
    2 * NaN; // NaN
    Infinity * 0; // NaN
    Infinity * 1; // Infinity
    Infinity * -1; // -Infinity
    Infinity * Infinity; // Infinity
    Infinity * -Infinity; // -Infinity
    2 * [3]; // 6，数组[3]通过Number()方法，转换为数值3，然后再与操作数2进行乘性操作
```

> 除法
- 符号为一个斜线符号(/)，用于计算第一个操作数除以第二个操作数
    - 如果有一个操作数是NaN，则返回NaN
    - 如果是(Infinity 或 -Infinity)除以(Infinity 或 -Infinity)，则返回NaN
    - 如果是0除以0，则返回NaN
    - 如果是任何数值除以0，则根据第一个操作数的正负号，选择返回Infinity 或 -Infinity
    - 如果是(Infinity 或 -Infinity)除以非零数值，则根据两个操作符的符号情况，选择返回Infinity 或 -Infinity

```javascript
    4 / 2; // 2
    NaN / 3; // NaN

    Infinity / -Infinity; // NaN

    0 / 0; // NaN

    1 / 0; // Infinity
    -1 / 0; // -Infinity
    Infinity / 0; // Infinity
    -Infinity / 0; // -Infinity

    Infinity / 1; // Infinity
    -Infinity / -1; // Infinity

    4 / [2]; // 2，数组[2]通过Number()方法，转换为数值2，然后再与操作数4进行除性操作
```

> 求模
- 符号为一个百分号(％)，用于计算第一个操作数除以第二个操作数之后的余数
    - 如果被除数和除数都是有限大的数值(除数是0除外)，则进行正常的求模运算
    - 如果被除数是有限大的数值，除数是(Infinity 或 -Infinity)，则返回被除数
    - 其余情况，都返回NaN
```javascript
    4 % 3; // 1
    -123 % Infinity; // -123

    4 % 0; //NaN
    Infinity % 5; //NaN

    9 % [5]; // 4，数组[5]通过Number()方法，转换为数值5，然后再与操作数9进行求模操作
```

<br>

#### 加性操作符

加性操作符包含：加法、减法
> 加法
- 加法操作符的运算规则
    - 没有操作数的类型是Object类型的情况：
        - 有操作数类型是String类型的情况：
            - 如果另一个操作数类型也是String类型，返回字符串拼接的结果
            - 如果另一个操作数类型不是String类型，将另一个操作数通过String()方法转换为String类型的数据，返回字符串拼接的结果
        - 操作数类型都不是String类型的情况：操作数类型不是Number类型的，通过Number类型转换为Number类型的数据，返回加法运算结果
        - 加法规则：
            - 任意数值 (除 Infinity 、 -Infinity 、 NaN外) 相加，根据数学运算规则，返回相应的运算结果
            - Infinity 加 Infinity，返回Infinity
            - -Infinity 加 -Infinity，返回-Infinity
            - +0 加 +0，返回+0
            - +0 加 -0，返回+0
            - -0 加 -0，返回-0
            - 其余数值运算返回NaN
    - 有操作数的类型是Object类型的情况：
        - 除非明确地使用Object类型操作数的valueOf()方法或toString()方法，否则不要使用加法操作符处理对象
        - 明确地使用Object类型操作数的valueOf()方法或toString()方法之后，按照上面的 ***字符串*** 或 ***数值*** 的加法方法进行加法操作

```javascript
    // 没有操作数的类型是Object类型的情况 - 有操作数类型是String类型的情况：
    'abc' + 'd'; // 'abcd'
    'abc' + null; // 'abcnull'，String(null) -> null

    // 没有操作数的类型是Object类型的情况 - 操作数类型都不是String类型的情况：
    true + true; // 2，Number(true) -> 1

    // 没有操作数的类型是Object类型的情况 - 加法规则：
    1 + 2; // 3
    Infinity + Infinity; // Infinity
    -Infinity + Infinity; // NaN
    -Infinity + -Infinity; // Infinity
    +0 + +0; // +0
    +0 + -0; // +0
    -0 + -0; // -0
    NaN + 1; // NaN

    // 有操作数的类型是Object类型的情况 - 没有明确地使用Object类型操作数的valueOf()方法或toString()方法：
    // 就因为操作符的位置不同，导致返回的结果不同
    {} + 1; // 1
    1 + {}; // '1[object Object]'

    // 有操作数的类型是Object类型的情况 - 明确地使用Object类型操作数的valueOf()方法或toString()方法：
    var obj = {valueOf: () => 123};
    +obj + 1; // 124，+obj -> Number(obj) -> obj.valueOf() -> 123
    1 + +obj; // 124，+obj -> Number(obj) -> obj.valueOf() -> 123
```

- 多个加法操作符的运算顺序
    - 从左向右依次执行加法操作法；如果想提升某个加法操作符的优先级，可以使用一对圆括号
```javascript
    var message = 'today is ' + new Date().getDate() + '!'; // 'today is 21!'

    var result = '1 + 2 is ' + 1 + 2; // '1 + 2 is 12'
    var result = '1 + 2 is ' + (1 + 2); // '1 + 2 is 3'
```

> 减法
- 减法操作符相当于：操作数1 加上 负的操作数2，相关细节部门可以参考[加法操作符](#加性操作符)
- 减法中，两个操作符的类型必须是Number类型，如果不是，则通过Number()方法进行数据类型转换
```javascript
    // 特殊的数值运算
    2 - 1; // 1
    Infinity - -Infinity; // Infinity
    -Infinity - Infinity; // -Infinity
    -Infinity - -Infinity; // NaN
    +0 - +0; // +0
    +0 - -0; // +0
    -0 - +0; // -0
    -0 - -0; // +0
    NaN + 1; // NaN
```

<br>

#### 关系操作符
关系操作符包含：小于(<)、大于(>)、小于或等于(<=)、大于或等于(>=)
 - 关系操作符的运算规则
    - 没有操作数的类型是Object类型的情况：
        - 如果两个操作数是字符串
            - 从字符串的第一个字符开始比较字符编码大小，如果可以通过字符编码比较出大小，则返回结果；否则进入下面的比较
            - 如果通过字符编码无法比较大小，则通过字符串的长度来比较大小
        - 其他情况，如果操作数类型不是Number类型的，先通过Number()方法转换为Number类型的数据，然后再进行大小比较
    - 有操作数的类型是Object类型的情况：
        - 除非明确地使用Object类型操作数的valueOf()方法或toString()方法，否则不要使用关系操作符处理对象
        - 明确地使用Object类型操作数的valueOf()方法或toString()方法之后，按照上面的 ***字符串*** 或 ***数值*** 的比较方法进行大小比较
    - NaN：NaN和任何类型的数据比较大小时，返回的都是false
```javascript
    // 纯字符串比较
    'abc' < 'b'; // true，'abc'.charCodeAt(0) -> 97，'b'.charCodeAt(0) -> 98
    'abc' < 'abcd'; // true，通过字符编码无法比较出大小，只能通过字符串长度来比较，'abc'.length -> 3，'abcd'.length -> 4

    // 数值比较
    10 > true; // true，Number(true) -> 1
    true > null; // true，Number(true) -> 1，Number(null) -> 0

    // 对象比较
    +{valueOf: () => 1} < +{valueOf: () => 2}; // true，+{valueOf: () => 1} -> 1，+{valueOf: () => 2} -> 2

    // NaN
    NaN > 1; // false
    NaN < 1; // false
    NaN == 1; // false
```

<br>

#### 相等操作符
因为相等操作符(==)、不相等操作符(!=)带来了隐式转换数据类型的风险，所以在实际开发中， ***强烈建议*** 使用`全等操作符(===)来代替相等操作符(==)`、`不全等操作符(!==)来代替不相等操作符(!=)`

- 全等操作符和不全等操作符，不会对数据类型进行隐式转换
- 只有操作数的内存地址一致的情况下，操作数才是全等的关系
```javascript
    1 === +'1'; // true
    null === undefined; // false

    var obj1 = {name: '张三'};
    var obj2 = {name: '张三'};
    var obj3 = obj1;

    obj1 === obj2; // false
    obj1 === obj3; // true
```

<br>

#### 条件操作符
> variable = boolean_expression ? true_value : false_value;

如果条件boolean_expression为true，则返回true_value，否则返回false_value
```javascript
    var num1 = 2;
    var num2 = 3;
    var max = (num1 > num2) ? num1 : num2; // 3
```

<br>

#### 赋值操作符
> 赋值操作符，符号为一个等号(=)，其作用是把赋值操作符右边的变量赋值给赋值操作符左边的变量
```javascript
    var num = 234;
```
> 复合赋值操作符，在等号前面添加乘性操作符、加性操作符等符号
- 乘/赋值(*=)
- 除/赋值(/=)
- 模/赋值(%=)
- 加/赋值(+=)
- 减/赋值(-=)
```javascript
    var num = 10;

    num *= 4; // num = num * 4; num -> 40
    num /= 2; // num = num / 2; num -> 5
    num %= 3; // num = num % 3; num -> 1
    num += 2; // num = num + 2; num -> 12
    num -= 7; // num = num - 7; num -> 3
```

<br>

#### 逗号操作符
> 符号为逗号(,)
- 函数有多个参数时，使用逗号操作符分隔参数
- 声明多个变量时，使用多个逗号操作符
```javascript
    const add = (num1, num2, num3) => num1 + num2 + num3;

    var num1 = 1,
        num2 = 2,
        num3 = 3;
```
