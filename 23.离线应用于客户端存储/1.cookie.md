### Cookie

> 在客户端用于存储会话信息
- 服务器接口通过 `set-cookie` 设置浏览器的cookie
- 浏览器发送接口请求时，`headers.cookie` 携带该接口URL对应的cookie

<br>

> cookie 查询、新增、修改、删除
- 通过 document.cookie 获取cookie数据
	- `name1=value2[; name2=value2][; name3=value3][; name4=value4]`
- 通过 document.cookie 设置cookie数据
	- 每次只能设置一条cookie数据
	- `document.cookie = 'name=value[; expires=expires][; path=path][; domain=domain][; secure]'`
		- `name` 、 `value` 必须通过encodeURIComponent编码
		- `expires` 为cookie失效时间
			- 默认值为 `session`， `关闭浏览器后cookie删除`
			- 该时间为 `GMT格式时间` ， `time.toGMTString()`
		- `path` 为cookie生效的URL路径
			- 默认值为 `当前URL路径`
			- `path`设置是自由的：可以设置 `父级路径的某个路径` cookie，也可以设置 `子级路径的某个路径` cookie
			- `path`只有向上访问权限：`子级路径` 可以访问 `父级路径的某个路径cookie`，`父级路径` 无法访问 `子级路径cookie`
		- `domain` 为cookie生效的域名
			- 默认值为 `当前URL域名`
			- `domain`只能设置 `当前域名` 以及 `父域名`，设置其他域名无效
				- `domain=.leads.autohome.com.cn` -> `xxx.leads.autohome.com.cn`
				- `domain=.autohome.com.cn` -> `xxx.autohome.com.cn` & `xxx.leads.autohome.com.cn`
		- `secure` 为cookie的安全标志
			- 设置cookie时指定 `secure` ，那么 `该条cookie只有在https请求时才会发送`
- 通过 document.cookie 删除cookie数据
	- 删除cookie只能通过设置 `该条cookie的失效时间小于当前时间` 的方式
```javascript
var CookieUtil = {
	get: function(name) {
		var reg = new RegExp('(^| )' + encodeURIComponent(name) + '=([^;\s]*)'),
			matchList = document.cookie.match(reg);

		return matchList ? matchList[2] : '';
	},
	set: function(name, value, expires, path, domain, secure) {
		var cookieText = encodeURIComponent(name) + '=' + encodeURIComponent(value);
		if (expires instanceof Date) {
			cookieText += '\; expires=' + expires.toGMTString();
		}
		if (!!path) {
			cookieText += '\; path=' + path;
		}
		if (!!domain) {
			cookieText += '\; domain=' + domain;
		}
		if (!!secure) {
			cookieText += '\; secure';
		}
		document.cookie = cookieText;
	},
	remove: function(name, path, domain, secure) {
		this.set(name, '', new Date(0), path, domain, secure);
	}
};
```

<br>

> cookie存储限制（保守数据）
- 最多设置 `50条` cookie
- 最多 `4kb` 的cookie存储容量
- 中文字符以及其他特殊字符都通过encodeURIComponent编译，所以 `这类字符的size为其编译后字符串的length`
